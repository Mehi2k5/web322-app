<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store</title>
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>

    <div class="container">
        <div class="row">
            <!-- Sidebar for categories -->
            <div class="col-md-3">
                <h3>Categories</h3>
                <ul class="list-group">
                    <% categories.forEach(function(category) { %>
                        <li class="list-group-item">
                            <a href="/store?category=<%= category.id %>">
                                <%= category.name %>
                            </a>
                        </li>
                    <% }); %>
                </ul>
            </div>

            <!-- Main content for store items -->
            <div class="col-md-9">
                <h2>Store</h2>
                <hr />

                <!-- Display a message if no items found -->
                <% if (message) { %>
                    <div class="alert alert-danger">
                        <strong><%= message %></strong>
                    </div>
                <% } %>

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th>Item ID</th>
                                <th>Title</th>
                                <th>Price</th>
                                <th>Category</th>
                                <th>Published</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% if (items && items.length > 0) { %>
                                <% items.forEach(function(item) { %>
                                    <tr>
                                        <td><%= item.id %></td>
                                        <td><%= item.title %></td>
                                        <td><%= item.price %></td>
                                        <td><%= item.categoryName %></td>
                                        <td><%= item.published ? "Yes" : "No" %></td>
                                    </tr>
                                <% }); %>
                            <% } else { %>
                                <tr>
                                    <td colspan="5" class="text-center">No items available</td>
                                </tr>
                            <% } %>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Include Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>
</html>
